<select >
  <option value="zh">zh</option>
  <option value="es">es</option>
  <option value="de">de</option>
  <option value="fr">fr</option>
</select>

<a hidden></a>
<button>Download</button>
<a href='https://github.com/dj0001/hfs-template/blob/master/addons/Languages2.diff.tpl'>multiple</a>

<script>
var sel=document.querySelector('select'), a=document.querySelector('a')
sel.value = location.search.slice(1) || navigator.language.split('-')[0]; // /?es
document.querySelector('button').onclick=get

function get(){
 var lng=sel.value||location.search.slice(1)
 a.download='language_'+lng+'.diff.tpl'
 fetch('https://dj0001.github.io/hfs-template/addons/languages/'+lng+'.txt').then(res => {if(!res.ok) throw Error('404'); return res.text()})
  .then(txt => {txt=new Blob(['[+special:strings]\n'+txt],{type:'text/plain'}); a.href=URL.createObjectURL(txt); a.click()} )
}
</script>
