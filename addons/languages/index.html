<select >
  <option value="zh">zh</option>
  <option value="es">es</option>
  <option value="de">de</option>
  <option value="fr">fr</option>
</select>

<a hidden></a>
<button>Download</button>

<script>
var sel=document.querySelector('select'), a=document.querySelector('a')
sel.value=navigator.language.split('-')[0]; //get()
document.querySelector('button').onclick=get

function get(){
 var lng=sel.value
 a.download='language_'+lng+'.diff.tpl'
 fetch('https://dj0001.github.io/hfs-template/addons/languages/'+lng+'.txt').then(res => res.text())
  .then(txt => {txt=new Blob(['[+special:strings]\n'+txt],{type:'text/plain'}); a.href=URL.createObjectURL(txt); a.click()} )
}
</script>
